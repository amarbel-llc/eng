#! /usr/bin/env -S bash -e

echo -n "# "
echo "vim: ft=gitconfig"
echo
echo "[alias]"

while IFS= read -r -d '' alias_script; do
  alias_name="$(basename "$alias_script")"
  printf "\t%s = ! %s\n" "$alias_name" "$alias_script"
done < <(find "$HOME/.config/git/aliases/" -type l -not -xtype l -xtype f -perm +111 -print0 | sort -z)
